(this.webpackJsonpfriday=this.webpackJsonpfriday||[]).push([[0],{15:function(e,t,r){e.exports={wrapLink:"Menu_wrapLink__e2BBn",link:"Menu_link__3CBsq",nav:"Menu_nav___0pzU",navActive:"Menu_navActive__2JjmP"}},20:function(e,t,r){e.exports={formLogin:"Login_formLogin__1BpGK",link:"Login_link__q-AMr",error:"Login_error__1qxBf"}},21:function(e,t,r){e.exports={formRegistration:"Registration_formRegistration__2h4X2",link:"Registration_link__2g5Zl",error:"Registration_error__3LdZ2",label:"Registration_label__3TDCt"}},25:function(e,t,r){e.exports={wrap:"Header_wrap___6iya",nav:"Header_nav__1mzt6",btnMenu:"Header_btnMenu__1-bfR",btnMenuActive:"Header_btnMenuActive__2Y85z",navActive:"Header_navActive__1ZL2Y"}},26:function(e,t,r){e.exports={errorInput:"SuperInputText_errorInput__1c1ho",superInput:"SuperInputText_superInput__tvKWa",error:"SuperInputText_error__ECzLd"}},27:function(e,t,r){e.exports={modal:"Modal_modal__Pn2EN",modalActive:"Modal_modalActive__bLWpk",btnClose:"Modal_btnClose__2Up33",modalContent:"Modal_modalContent__3BblL"}},36:function(e,t,r){e.exports={red:"SuperButton_red__3cLSb",default:"SuperButton_default__3fGvg"}},40:function(e,t,r){e.exports={box:"NewPassword_box__3uPkJ",newPassBtn:"NewPassword_newPassBtn__hGgsh"}},41:function(e,t,r){e.exports={box:"PasswordRecovery_box__bawp6",recoveryBtn:"PasswordRecovery_recoveryBtn__3ZN32",error:"PasswordRecovery_error__2zKnY"}},50:function(e,t,r){e.exports={checkbox:"SuperCheckbox_checkbox__2kSHS"}},52:function(e,t,r){e.exports={preload:"Preloader_preload__2_9rl"}},61:function(e,t,r){},62:function(e,t,r){},85:function(e,t,r){},86:function(e,t,r){"use strict";r.r(t);var s=r(1),n=r(0),c=r.n(n),a=r(29),o=r.n(a),i=(r(61),r(62),r(5)),u=r(2),d=r(9),l=r(20),j=r.n(l),b=r(23),O=r(26),p=r.n(O),h=function(e){var t=e.type,r=e.onChange,n=e.onChangeText,c=e.onKeyPress,a=e.onEnter,o=e.error,i=(e.className,e.spanClassName,e.setError),d=Object(b.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName","setError"]),l=("".concat(p.a.error," ").concat(p.a.error),o?p.a.errorInput:p.a.superInput);return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("input",Object(u.a)({type:t,onChange:function(e){r&&r(e),n&&n(e.currentTarget.value),i&&i("")},onKeyPress:function(e){c&&c(e),"Enter"===e.key&&a&&a()},className:l},d))})},x=r(36),f=r.n(x),v=function(e){var t=e.red,r=e.className,n=Object(b.a)(e,["red","className"]),c="".concat(t?f.a.red:f.a.default," ").concat(r);return Object(s.jsx)("button",Object(u.a)({className:c},n))},m=r(50),_=r.n(m),g=function(e){e.type;var t=e.onChange,r=e.onChangeChecked,n=e.className,c=e.children,a=Object(b.a)(e,["type","onChange","onChangeChecked","className","children"]),o="".concat(_.a.checkbox," ").concat(n||"");return Object(s.jsxs)("label",{children:[Object(s.jsx)("input",Object(u.a)({type:"checkbox",onChange:function(e){t&&t(e),r&&r(e.currentTarget.checked)},className:o},a)),c&&Object(s.jsx)("span",{children:c})]})},w=r(7),N=r(4),S=r(18),R=r.n(S),P=R.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),k=function(e){return P.post("auth/login",e)},y="APP/SET-STATUS",E="APP/SET_ERROR",C={status:"idle",error:null},L=function(e){return{type:y,status:e}},T=function(e){return{type:E,error:e}},I="SET_IS_LOGGED_IN",A={isLoggedIn:!1},M=function(e){return function(t){t(L("loading")),k(e).then((function(e){t({type:I,value:!0}),t(L("succeeded"))})).catch((function(e){t(T(e.response.data.error)),t(L("succeeded"))}))}},F=r.p+"static/media/preloader.b78a56d2.svg",B=r(52),G=r.n(B),U=function(){return Object(s.jsx)("div",{children:Object(s.jsx)("img",{alt:"Loading...",className:G.a.preload,src:F})})},W=r(33),D=function(e){var t=e.status,r=e.serverError,c=Object(n.useState)(!1),a=Object(d.a)(c,2),o=a[0],i=a[1],l=Object(N.b)(),b=Object(W.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email||(t.email="Email is required",i(!0)),e.password?i(!1):(t.password="Password is required",i(!0)),t},onSubmit:function(e){l(M(e))}});return"loading"===t?Object(s.jsx)(U,{}):Object(s.jsxs)("div",{className:j.a.wrap,children:[Object(s.jsx)("h2",{children:"Login"}),Object(s.jsx)("form",{onSubmit:b.handleSubmit,children:Object(s.jsxs)("div",{className:j.a.formLogin,children:[Object(s.jsx)(h,Object(u.a)(Object(u.a)({placeholder:"email",id:"email",type:"email"},b.getFieldProps("email")),{},{error:r})),b.touched.email&&b.errors.email?Object(s.jsx)("div",{className:j.a.error,children:b.errors.email}):null,Object(s.jsx)(h,Object(u.a)({placeholder:"password",id:"password",type:"password",error:r},b.getFieldProps("password"))),b.touched.password&&b.errors.password?Object(s.jsx)("div",{className:j.a.error,children:b.errors.password}):null,Object(s.jsx)(v,{type:"submit",disabled:o,children:"Login"}),Object(s.jsxs)("label",{children:["Remember me",Object(s.jsx)(g,Object(u.a)({id:"rememberMe",type:"rememberMe"},b.getFieldProps("rememberMe")))]}),r?Object(s.jsx)("div",{className:j.a.error,children:r}):null,Object(s.jsx)(w.b,{className:j.a.link,to:ke.RECOVERY_PASSWORD,children:"Forgot password?"}),Object(s.jsx)(w.b,{className:j.a.link,to:ke.REGISTRATION,children:"Registration"})]})})]})},q=function(){var e=Object(N.c)((function(e){return e.auth.isLoggedIn})),t=Object(N.c)((function(e){return e.app.status})),r=Object(N.c)((function(e){return e.app.error}));return e?Object(s.jsx)(i.a,{to:ke.PROFILE}):Object(s.jsx)(D,{status:t,serverError:r})},K=function(){return Object(s.jsx)("div",{children:Object(s.jsx)("h2",{children:"Profile"})})},Y=function(){return Object(s.jsx)("div",{children:Object(s.jsx)(K,{})})},H=function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)(v,{children:"Button"}),Object(s.jsx)(h,{}),Object(s.jsx)(g,{})]})},V=r(21),z=r.n(V),J=R.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),Z=function(e){return J.post("auth/register",e)},$="addUserAC",X={isRegistration:!1},Q=function(e){return function(t){t(L("loading")),Z(e).then((function(e){t({type:$,isRegistration:!0}),t(L("succeeded"))})).catch((function(e){t(T(e.response.data.error)),t(L("succeeded"))}))}},ee=function(e){var t=e.status,r=e.serverError,c=Object(n.useState)(!1),a=Object(d.a)(c,2),o=a[0],i=a[1],l=Object(N.b)(),j=Object(W.a)({initialValues:{email:"",password:"",checkPassword:""},validate:function(e){var t={};return e.email||(t.email="Email is required",i(!0)),e.password?i(!1):(t.password="Password is required",i(!0)),e.checkPassword?i(!1):(t.checkPassword="Password is required",i(!0)),e.password!==e.checkPassword?(t.checkPassword="Passwords are not equal",i(!0)):i(!1),t},onSubmit:function(e){l(Q(e))}});return"loading"===t?Object(s.jsx)(U,{}):Object(s.jsxs)("div",{className:z.a.wrapper,children:[Object(s.jsx)("h2",{children:"Registration"}),Object(s.jsx)("p",{children:"Please fill the form for registration"}),Object(s.jsx)("form",{onSubmit:j.handleSubmit,children:Object(s.jsxs)("div",{className:z.a.formRegistration,children:[Object(s.jsx)(h,Object(u.a)(Object(u.a)({placeholder:"email",id:"email",type:"email"},j.getFieldProps("email")),{},{error:r})),j.touched.email&&j.errors.email?Object(s.jsx)("div",{className:z.a.error,children:j.errors.email}):null,Object(s.jsx)(h,Object(u.a)({placeholder:"password",id:"password",type:"password",error:r},j.getFieldProps("password"))),j.touched.password&&j.errors.password?Object(s.jsx)("div",{className:z.a.error,children:j.errors.password}):null,Object(s.jsx)(h,Object(u.a)({placeholder:"confirm password",id:"checkPassword",type:"password",error:r},j.getFieldProps("checkPassword"))),Object(s.jsx)("label",{className:z.a.label,children:"password length must be at least 8 characters"}),Object(s.jsx)(v,{type:"submit",disabled:o,children:"Registration"}),r?Object(s.jsx)("div",{className:z.a.error,children:r}):null,Object(s.jsx)(w.b,{className:z.a.link,to:ke.LOGIN,children:"Login page"})]})})]})},te=function(){var e=Object(N.c)((function(e){return e.app.status})),t=Object(N.c)((function(e){return e.app.error}));return Object(N.c)((function(e){return e.registration.isRegistration}))?Object(s.jsx)(i.a,{to:ke.LOGIN}):Object(s.jsx)(ee,{serverError:t,status:e})},re=function(){return Object(s.jsx)("div",{children:"Error404"})},se=r(40),ne=r.n(se),ce=(r(85),function(){return Object(s.jsxs)("div",{className:"lds-ellipsis",children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})}),ae=R.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),oe=function(e,t){return ae.post("auth/set-new-password",{password:e,resetPasswordToken:t})},ie="SET_ERROR",ue="SET_SUCCESS",de="SET_STATUS",le={status:"idle",error:"",success:""},je=function(e){return{type:de,status:e}},be=function(e,t){return function(r){r(je("loading")),oe(e,t).then((function(e){var t;r((t=e.data.message,{type:ue,success:t})),r(je("succeeded"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";r(function(e){return{type:ie,error:e}}(t)),r(je("failed"))}))}},Oe=R.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),pe=function(e){return Oe.post("auth/forgot",{email:e,from:"mariya.syrokvash@yandex.ru",message:"<div style=\"background-color: lime; padding: 15px\">\n\t\t\t\t\t\t\t\t\t\t<p>Please, click on the link and enter a new password</p>\n\t\t\t\t\t\t\t\t\t\t<a href='https://fedos-new.github.io/friday/#/new_pass/$token$'>Recovery password</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t"})},he="SET_ERROR",xe="SET_SUCCESS",fe="SET_STATUS",ve={status:"idle",error:"",success:""},me=function(e){return{type:he,error:e}},_e=function(e){return{type:fe,status:e}},ge=function(e){var t=Object(n.useState)(""),r=Object(d.a)(t,2),c=r[0],a=r[1],o=Object(n.useState)(""),u=Object(d.a)(o,2),l=u[0],j=u[1],b=Object(n.useState)(!0),O=Object(d.a)(b,2),p=O[0],x=O[1],f=Object(n.useState)(!1),m=Object(d.a)(f,2),_=m[0],g=m[1],w=Object(N.b)(),S=Object(i.g)().token,R=function(){if(c!==l)return g(!0);w(be(c,S)),x(!0),a(""),j("")};return"loading"===e.status?Object(s.jsx)(ce,{}):e.success?Object(s.jsx)(i.a,{to:ke.LOGIN}):Object(s.jsxs)("div",{className:ne.a.box,children:[Object(s.jsx)("h2",{children:"New password"}),Object(s.jsx)(h,{placeholder:"New password",value:c,onChange:function(e){x(!1),g(!1),e.currentTarget.value&&a(e.currentTarget.value),w(me(""))},error:e.error,onKeyPress:function(t){return"Enter"===t.key&&void(e.error||R())},type:"password"}),e.error&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(h,{placeholder:"Confirm password",value:l,error:e.error,onChange:function(e){g(!1),e.currentTarget.value&&j(e.currentTarget.value)},type:"password"}),_?"Passwords don't match!":""]}),Object(s.jsx)(v,{disabled:p,onClick:R,className:ne.a.newPassBtn,children:"Save"})]})},we=function(){var e=Object(N.c)((function(e){return e.recoveryPassword.error})),t=Object(N.c)((function(e){return e.recoveryPassword.success})),r=Object(N.c)((function(e){return e.recoveryPassword.status}));return Object(s.jsx)("div",{children:Object(s.jsx)(ge,{error:e,success:t,status:r})})},Ne=r(41),Se=r.n(Ne),Re=function(e){var t=Object(n.useState)(""),r=Object(d.a)(t,2),c=r[0],a=r[1],o=Object(n.useState)(!0),i=Object(d.a)(o,2),u=i[0],l=i[1],j=Object(N.b)(),b=function(){j(function(e){return function(t){t(_e("loading")),pe(e).then((function(e){console.log(e),200===e.status&&t(_e("succeeded"))})).catch((function(e){var r=e.response?e.response.data.error:e.message+", more details in the console";t(me(r)),t(_e("failed"))}))}}(c)),l(!0),a("")};return"loading"===e.status?Object(s.jsx)(ce,{}):Object(s.jsx)("div",{className:Se.a.box,children:e.success?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("p",{children:["Success! The message was ",e.success]}),Object(s.jsx)("p",{children:"Please, check your email."})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h2",{children:"Recover Password"}),Object(s.jsx)(h,{placeholder:"Email",value:c,onKeyPress:function(t){return"Enter"===t.key&&void(e.error||b())},onChange:function(e){l(!1),e.currentTarget.value&&a(e.currentTarget.value),j(me(""))},type:"text",error:e.error}),Object(s.jsx)(v,{onClick:b,disabled:u,className:Se.a.recoveryBtn,children:" Send "})]})})},Pe=function(){var e=Object(N.c)((function(e){return e.recoveryPassword.error})),t=Object(N.c)((function(e){return e.recoveryPassword.success})),r=Object(N.c)((function(e){return e.recoveryPassword.status}));return Object(s.jsx)("div",{children:Object(s.jsx)(Re,{error:e,success:t,status:r})})},ke={LOGIN:"/login",REGISTRATION:"/reg",PROFILE:"/profile",ERROR_404:"/404",RECOVERY_PASSWORD:"/rec_pass",NEW_PASSWORD:"/new_pass",TEST:"/test"},ye=function(){return Object(s.jsx)("div",{children:Object(s.jsxs)(i.d,{children:[Object(s.jsx)(i.b,{path:"/",exact:!0,render:function(){return Object(s.jsx)(i.a,{to:ke.LOGIN})}}),Object(s.jsx)(i.b,{path:ke.LOGIN,render:function(){return Object(s.jsx)(q,{})}}),Object(s.jsx)(i.b,{path:ke.REGISTRATION,render:function(){return Object(s.jsx)(te,{})}}),Object(s.jsx)(i.b,{path:ke.PROFILE,render:function(){return Object(s.jsx)(Y,{})}}),Object(s.jsx)(i.b,{path:ke.ERROR_404,render:function(){return Object(s.jsx)(re,{})}}),Object(s.jsx)(i.b,{path:ke.RECOVERY_PASSWORD,render:function(){return Object(s.jsx)(Pe,{})}}),Object(s.jsx)(i.b,{path:ke.NEW_PASSWORD,render:function(){return Object(s.jsx)(we,{})}}),Object(s.jsx)(i.b,{path:ke.TEST,render:function(){return Object(s.jsx)(H,{})}}),Object(s.jsx)(i.b,{render:function(){return Object(s.jsx)(re,{})}})]})})},Ee=r(25),Ce=r.n(Ee),Le=r(27),Te=r.n(Le),Ie=function(e){var t=e.activeModal,r=e.setActiveModal,n=e.children;return Object(s.jsx)("div",{className:t?Te.a.modalActive:Te.a.modal,children:Object(s.jsxs)("div",{className:Te.a.modalContent,children:[n,Object(s.jsx)(v,{red:!0,type:"button",onClick:function(){return r(!1)},className:Te.a.btnClose,children:"x"})]})})},Ae=r(15),Me=r.n(Ae),Fe=function(e){var t=e.className;return Object(s.jsxs)("div",{className:"".concat(t),children:[Object(s.jsx)("div",{className:Me.a.wrapLink,children:Object(s.jsx)(w.b,{className:Me.a.link,to:ke.REGISTRATION,children:"Registration"})}),Object(s.jsx)("div",{className:Me.a.wrapLink,children:Object(s.jsx)(w.b,{className:Me.a.link,to:ke.LOGIN,children:"Login"})}),Object(s.jsx)("div",{className:Me.a.wrapLink,children:Object(s.jsx)(w.b,{className:Me.a.link,to:ke.PROFILE,children:"Profile"})}),Object(s.jsx)("div",{className:Me.a.wrapLink,children:Object(s.jsx)(w.b,{className:Me.a.link,to:ke.RECOVERY_PASSWORD,children:"Recovery Password"})}),Object(s.jsx)("div",{className:Me.a.wrapLink,children:Object(s.jsx)(w.b,{className:Me.a.link,to:ke.NEW_PASSWORD,children:"NewPassword"})}),Object(s.jsx)("div",{className:Me.a.wrapLink})]})},Be=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),r=t[0],c=t[1];return Object(s.jsxs)("div",{className:Ce.a.wrap,children:[Object(s.jsx)(v,{className:r?Ce.a.btnMenu:Ce.a.btnMenuActive,onClick:function(){return c(!0)},children:"Menu"}),!r&&Object(s.jsx)(Fe,{className:Ce.a.nav}),r&&Object(s.jsx)(Ie,{activeModal:r,setActiveModal:c,children:Object(s.jsx)(Fe,{className:Ce.a.navActive})})]})},Ge=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(Be,{}),Object(s.jsx)(ye,{})]})},Ue=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,87)).then((function(t){var r=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,a=t.getTTFB;r(e),s(e),n(e),c(e),a(e)}))},We=r(24),De=r(55),qe="SET_USER_PROFILE",Ke={},Ye=Object(We.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:t.value});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return Object(u.a)({},e);default:return e}},recoveryPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case he:return Object(u.a)(Object(u.a)({},e),{},{error:t.error});case xe:return Object(u.a)(Object(u.a)({},e),{},{success:t.success});default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Object(u.a)(Object(u.a)({},e),{},{error:t.error});case de:return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case ue:return Object(u.a)(Object(u.a)({},e),{},{success:t.success});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(u.a)(Object(u.a)({},e),{},{isRegistration:t.isRegistration});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case E:return Object(u.a)(Object(u.a)({},e),{},{error:t.error});default:return e}}}),He=Object(We.d)(Ye,Object(We.a)(De.a));window.store=He,o.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(w.a,{children:Object(s.jsx)(N.a,{store:He,children:Object(s.jsx)(Ge,{})})})}),document.getElementById("root")),Ue()}},[[86,1,2]]]);
//# sourceMappingURL=main.29f735c3.chunk.js.map