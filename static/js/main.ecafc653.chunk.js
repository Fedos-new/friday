(this.webpackJsonpfriday=this.webpackJsonpfriday||[]).push([[0],{110:function(e,t,a){},114:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(1),c=a.n(n),s=a(30),o=a.n(s),i=(a(85),a(86),a(6)),u=a(3),d=a(12),l=a(28),j=a.n(l),b=a(32),p=a(38),O=a.n(p),h=function(e){var t=e.type,a=e.onChange,n=e.onChangeText,c=e.onKeyPress,s=e.onEnter,o=e.error,i=(e.className,e.spanClassName,e.setError),d=Object(b.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName","setError"]),l=("".concat(O.a.error," ").concat(O.a.error),o?O.a.errorInput:O.a.superInput);return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("input",Object(u.a)({type:t,onChange:function(e){a&&a(e),n&&n(e.currentTarget.value),i&&i("")},onKeyPress:function(e){c&&c(e),"Enter"===e.key&&s&&s()},className:l},d))})},f=a(52),m=a.n(f),x=function(e){var t=e.red,a=e.className,n=Object(b.a)(e,["red","className"]),c="".concat(t?m.a.red:m.a.default," ").concat(a);return Object(r.jsx)("button",Object(u.a)({className:c},n))},_=a(68),v=a.n(_),g=function(e){e.type;var t=e.onChange,a=e.onChangeChecked,n=e.className,c=e.children,s=Object(b.a)(e,["type","onChange","onChangeChecked","className","children"]),o="".concat(v.a.checkbox," ").concat(n||"");return Object(r.jsxs)("label",{children:[Object(r.jsx)("input",Object(u.a)({type:"checkbox",onChange:function(e){t&&t(e),a&&a(e.currentTarget.checked)},className:o},s)),c&&Object(r.jsx)("span",{children:c})]})},k=a(5),P=a(4),C=a(16),w=a.n(C),N=w.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),y=function(e){return N.post("auth/login",e)},S=w.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),R=function(){return S.post("/auth/me")},E="SET_USER_PROFILE",T="SET_MY_ID",A={profile:{name:"",_id:"",avatar:"",created:"",updated:"",email:"",isAdmin:!1,publicCardPacksCount:0,rememberMe:!1,verified:!1,error:""},myId:null},L=function(e){return{type:T,myId:e}},I=function(){return function(e){return R().then((function(t){var a;console.log(t.data._id),e(L(t.data._id)),e((a=t.data,{type:E,payload:a})),e(Y(!0))})).catch((function(t){e(Y(!1))}))}},B="APP/SET-STATUS",D="APP/SET_ERROR",M="APP/SET_INITIALIZED",U={status:"idle",error:null,initialized:!1},F=function(e){return{type:B,status:e}},G=function(e){return{type:D,error:e}},K=function(){return function(e){var t=e(I());Promise.all([t]).then((function(){e({type:M,value:!0})}))}},W="SET_IS_LOGGED_IN",q={isLoggedIn:!1},Y=function(e){return{type:W,value:e}},z=a.p+"static/media/preloader.b78a56d2.svg",H=a(70),V=a.n(H),J=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("img",{alt:"Loading...",className:V.a.preload,src:z})})},Z=a(49),Q=function(e){var t=e.status,a=e.serverError,c=Object(n.useState)(!1),s=Object(d.a)(c,2),o=s[0],i=s[1],l=Object(P.b)(),b=Object(Z.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email||(t.email="Email is required",i(!0)),e.password?i(!1):(t.password="Password is required",i(!0)),t},onSubmit:function(e){var t;l((t=e,function(e){e(F("loading")),y(t).then((function(t){e(Y(!0)),e(F("succeeded"))})).catch((function(t){e(G(t.response.data.error)),e(F("succeeded"))}))}))}});return"loading"===t?Object(r.jsx)(J,{}):Object(r.jsxs)("div",{className:j.a.wrap,children:[Object(r.jsx)("h2",{children:"Login"}),Object(r.jsx)("form",{onSubmit:b.handleSubmit,children:Object(r.jsxs)("div",{className:j.a.formLogin,children:[Object(r.jsx)(h,Object(u.a)(Object(u.a)({placeholder:"email",id:"email",type:"email"},b.getFieldProps("email")),{},{error:a})),b.touched.email&&b.errors.email?Object(r.jsx)("div",{className:j.a.error,children:b.errors.email}):null,Object(r.jsx)(h,Object(u.a)({placeholder:"password",id:"password",type:"password",error:a},b.getFieldProps("password"))),b.touched.password&&b.errors.password?Object(r.jsx)("div",{className:j.a.error,children:b.errors.password}):null,Object(r.jsx)(x,{type:"submit",disabled:o,children:"Login"}),Object(r.jsxs)("label",{children:["Remember me",Object(r.jsx)(g,Object(u.a)({id:"rememberMe",type:"rememberMe"},b.getFieldProps("rememberMe")))]}),a?Object(r.jsx)("div",{className:j.a.error,children:a}):null,Object(r.jsx)(k.b,{className:j.a.link,to:Kt.RECOVERY_PASSWORD,children:"Forgot password?"}),Object(r.jsx)(k.b,{className:j.a.link,to:Kt.REGISTRATION,children:"Registration"})]})})]})},X=function(){var e=Object(P.c)((function(e){return e.auth.isLoggedIn})),t=Object(P.c)((function(e){return e.app.status})),a=Object(P.c)((function(e){return e.app.error}));return e?Object(r.jsx)(i.a,{to:Kt.PROFILE}):Object(r.jsx)(Q,{status:t,serverError:a})},$=a(39),ee=a.n($),te=function(e){var t=e.name,a=e.cardPacksCount,n=e.logout;return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Profile"}),Object(r.jsx)("div",{className:ee.a.wrap,children:Object(r.jsxs)("div",{className:ee.a.content,children:[Object(r.jsx)("img",{src:"some avatar",alt:"avatar",height:"200px"}),Object(r.jsxs)("div",{children:[" Name: ",t]}),Object(r.jsxs)("div",{children:["  ",Object(r.jsxs)(k.b,{className:ee.a.link,to:Kt.PACKS,children:["Public card packs count: ",a]})]}),Object(r.jsx)(x,{className:ee.a.btn,onClick:n,children:"Logout"})]})})]})},ae=function(){var e=Object(P.c)((function(e){return e.profile.profile.name})),t=Object(P.c)((function(e){return e.profile.profile.avatar})),a=Object(P.c)((function(e){return e.profile.profile.publicCardPacksCount})),n=Object(P.c)((function(e){return e.auth.isLoggedIn})),c=Object(P.b)();console.log(e);return n?Object(r.jsx)("div",{children:Object(r.jsx)(te,{name:e,cardPacksCount:a,avatar:t,logout:function(){c(Y(!1))}})}):Object(r.jsx)(i.a,{to:Kt.LOGIN})},re=a(11),ne=a.n(re),ce=a(24),se=w.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),oe={getPacksData:function(){var e=Object(ce.a)(ne.a.mark((function e(t,a,r,n){var c,s,o,i,u=arguments;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=u.length>4&&void 0!==u[4]?u[4]:1,s=u.length>5&&void 0!==u[5]?u[5]:15,o=u.length>6?u[6]:void 0,e.next=5,se.get("cards/pack?pageCount=".concat(s,"&page=").concat(c,"&packName=").concat(t,"&sortPacks=").concat(n,"&min=").concat(a,"&max=").concat(r,"&user_id=").concat(null===o?"":o));case 5:return i=e.sent,e.abrupt("return",i.data);case 7:case"end":return e.stop()}}),e)})));return function(t,a,r,n){return e.apply(this,arguments)}}(),addNewPack:function(){var e=Object(ce.a)(ne.a.mark((function e(t){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.post("cards/pack",{cardsPack:t});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deletePack:function(){var e=Object(ce.a)(ne.a.mark((function e(t){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.delete("cards/pack?id=".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updatePack:function(){var e=Object(ce.a)(ne.a.mark((function e(t){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.put("cards/pack",{cardsPack:t});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ie="SET_PACKS",ue="SET_SEARCH_NAME",de="SET_MIN_MAX_PRICE_RANGE",le="SET_MIN_COUNT_MAX_COUNT",je="SET_SORTING",be="SET_PACKS_STATUS",pe="SET_CURRENT_PAGE",Oe="SET_COUNT_PER_PAGE",he="SET_TOTAL_PACKS_COUNT",fe="SET_ERROR_PACKS_MESSAGE",me={cardPacks:[],searchName:"",min:0,max:24,sortPacks:"",page:1,packsPerPage:10,currentPage:1,totalPacksCount:0,minCardsCount:0,maxCardsCount:24,error:"",status:"idle"},xe=function(e){return{type:ue,searchName:e}},_e=function(e){return{type:be,status:e}},ve=function(e){return{type:fe,value:e}},ge=function(){return function(e,t){var a=t(),r=a.search.searchName,n=a.search.min,c=a.search.max,s=a.search.sortPacks,o=a.search.page,i=a.search.packsPerPage,u=a.profile.myId;console.log(u),oe.getPacksData(r,n,c,s,o,i,u).then((function(t){var a,r;console.log(t),e((a=t.cardPacks,{type:ie,cardPacks:a})),e((r=t.cardPacksTotalCount,{type:he,value:r})),t.cardPacks.length||e(ve("Something went wrong.. Please, try again."))})).catch((function(t){var a=t.response?t.response.data.error:t.message+", more details in the console";console.log(a),e(ve(a))})).finally((function(){e(_e("succeeded"))}))}},ke=function(){var e=Object(P.b)();return Object(n.useEffect)((function(){e(ge())}),[e]),Object(r.jsxs)("div",{children:[Object(r.jsx)(x,{children:"Button"}),Object(r.jsx)(h,{}),Object(r.jsx)(g,{})]})},Pe=a(29),Ce=a.n(Pe),we=w.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),Ne=function(e){return we.post("auth/register",e)},ye="addUserAC",Se={isRegistration:!1},Re=function(e){return function(t){t(F("loading")),Ne(e).then((function(e){t({type:ye,isRegistration:!0}),t(F("succeeded"))})).catch((function(e){t(G(e.response.data.error)),t(F("succeeded"))}))}},Ee=function(e){var t=e.status,a=e.serverError,c=Object(n.useState)(!1),s=Object(d.a)(c,2),o=s[0],i=s[1],l=Object(P.b)(),j=Object(Z.a)({initialValues:{email:"",password:"",checkPassword:""},validate:function(e){var t={};return e.email||(t.email="Email is required",i(!0)),e.password?i(!1):(t.password="Password is required",i(!0)),e.checkPassword?i(!1):(t.checkPassword="Password is required",i(!0)),e.password!==e.checkPassword?(t.checkPassword="Passwords are not equal",i(!0)):i(!1),t},onSubmit:function(e){l(Re(e))}});return"loading"===t?Object(r.jsx)(J,{}):Object(r.jsxs)("div",{className:Ce.a.wrapper,children:[Object(r.jsx)("h2",{children:"Registration"}),Object(r.jsx)("p",{children:"Please fill the form for registration"}),Object(r.jsx)("form",{onSubmit:j.handleSubmit,children:Object(r.jsxs)("div",{className:Ce.a.formRegistration,children:[Object(r.jsx)(h,Object(u.a)(Object(u.a)({placeholder:"email",id:"email",type:"email"},j.getFieldProps("email")),{},{error:a})),j.touched.email&&j.errors.email?Object(r.jsx)("div",{className:Ce.a.error,children:j.errors.email}):null,Object(r.jsx)(h,Object(u.a)({placeholder:"password",id:"password",type:"password",error:a},j.getFieldProps("password"))),j.touched.password&&j.errors.password?Object(r.jsx)("div",{className:Ce.a.error,children:j.errors.password}):null,Object(r.jsx)(h,Object(u.a)({placeholder:"confirm password",id:"checkPassword",type:"password",error:a},j.getFieldProps("checkPassword"))),Object(r.jsx)("label",{className:Ce.a.label,children:"password length must be at least 8 characters"}),Object(r.jsx)(x,{type:"submit",disabled:o,children:"Registration"}),a?Object(r.jsx)("div",{className:Ce.a.error,children:a}):null,Object(r.jsx)(k.b,{className:Ce.a.link,to:Kt.LOGIN,children:"Login page"})]})})]})},Te=function(){var e=Object(P.c)((function(e){return e.app.status})),t=Object(P.c)((function(e){return e.app.error}));return Object(P.c)((function(e){return e.registration.isRegistration}))?Object(r.jsx)(i.a,{to:Kt.LOGIN}):Object(r.jsx)(Ee,{serverError:t,status:e})},Ae=function(){return Object(r.jsx)("div",{children:"Error404"})},Le=a(40),Ie=a.n(Le),Be=(a(110),function(){return Object(r.jsxs)("div",{className:"lds-ellipsis",children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})}),De=w.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),Me=function(e,t){return De.post("auth/set-new-password",{password:e,resetPasswordToken:t})},Ue="SET_ERROR",Fe="SET_SUCCESS",Ge="SET_STATUS",Ke={status:"idle",error:"",success:""},We=function(e){return{type:Ge,status:e}},qe=function(e,t){return function(a){a(We("loading")),Me(e,t).then((function(e){var t;console.log(e.data.message),a((t=e.data.message,{type:Fe,success:t})),a(We("succeeded"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";a(function(e){return{type:Ue,error:e}}(t)),a(We("failed"))}))}},Ye=w.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),ze=function(e){return Ye.post("auth/forgot",{email:e,from:"mariya.syrokvash@yandex.ru",message:"<div style=\"background-color: lime; padding: 15px\">\n\t\t\t\t\t\t\t\t\t\t<p>Please, click on the link and enter a new password</p>\n\t\t\t\t\t\t\t\t\t\t<a href='https://fedos-new.github.io/friday/#/new_pass/$token$'>Recovery password</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t"})},He="SET_ERROR",Ve="SET_SUCCESS",Je="SET_STATUS",Ze={status:"idle",error:"",success:""},Qe=function(e){return{type:He,error:e}},Xe=function(e){return{type:Je,status:e}},$e=function(e){return function(t){t(Xe("loading")),ze(e).then((function(e){var a;200===e.status&&(t((a=e.data.info,{type:Ve,success:a})),t(Xe("succeeded")))})).catch((function(e){var a=e.response?e.response.data.error:e.message+", more details in the console";t(Qe(a)),t(Xe("failed"))}))}},et=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(""),u=Object(d.a)(o,2),l=u[0],j=u[1],b=Object(n.useState)(!0),p=Object(d.a)(b,2),O=p[0],f=p[1],m=Object(n.useState)(!1),_=Object(d.a)(m,2),v=_[0],g=_[1],k=Object(P.b)(),C=Object(i.g)().token,w=function(){if(c!==l)return g(!0);k(qe(c,C)),f(!0),s(""),j("")};return"loading"===e.status?Object(r.jsx)(Be,{}):e.success?Object(r.jsx)(i.a,{to:Kt.LOGIN}):Object(r.jsxs)("div",{className:Ie.a.box,children:[Object(r.jsx)("h2",{children:"New password"}),Object(r.jsx)(h,{placeholder:"New password",value:c,onChange:function(e){f(!1),g(!1),s(e.currentTarget.value),k(Qe(""))},error:e.error,onKeyPress:function(t){return"Enter"===t.key&&void(e.error||w())},type:"password"}),Object(r.jsx)("div",{className:Ie.a.error,children:e.error}),!e.error&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(h,{placeholder:"Confirm password",value:l,onChange:function(e){g(!1),j(e.currentTarget.value)},type:"password"}),Object(r.jsx)("div",{className:Ie.a.error,children:v?"Passwords don't match!":""})]}),Object(r.jsx)(x,{disabled:O,onClick:w,className:Ie.a.newPassBtn,children:"Save"})]})},tt=function(){var e=Object(P.c)((function(e){return e.recoveryPassword.error})),t=Object(P.c)((function(e){return e.recoveryPassword.success})),a=Object(P.c)((function(e){return e.recoveryPassword.status}));return Object(r.jsx)("div",{children:Object(r.jsx)(et,{error:e,success:t,status:a})})},at=a(50),rt=a.n(at),nt=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(!0),i=Object(d.a)(o,2),u=i[0],l=i[1],j=Object(P.b)(),b=function(){j($e(c)),l(!0),s("")};return"loading"===e.status?Object(r.jsx)(Be,{}):Object(r.jsx)("div",{className:rt.a.box,children:e.success?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("p",{children:["Success! The message was ",e.success]}),Object(r.jsx)("p",{children:"Please, check your email."})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"Recover Password"}),Object(r.jsx)(h,{placeholder:"Email",value:c,onKeyPress:function(t){return"Enter"===t.key&&void(e.error||b())},onChange:function(e){l(!1),s(e.currentTarget.value),j(Qe(""))},type:"text"}),Object(r.jsx)("div",{className:rt.a.error,children:e.error&&e.error}),Object(r.jsx)(x,{onClick:b,disabled:u,className:rt.a.recoveryBtn,children:" Send "})]})})},ct=function(){var e=Object(P.c)((function(e){return e.recoveryPassword.error})),t=Object(P.c)((function(e){return e.recoveryPassword.success})),a=Object(P.c)((function(e){return e.recoveryPassword.status}));return Object(r.jsx)("div",{children:Object(r.jsx)(nt,{error:e,success:t,status:a})})},st=a(73),ot=a.n(st),it=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=(t[0],t[1]),c=Object(P.b)(),s=function(){c(ge()),a("")};return Object(r.jsxs)("div",{children:[Object(r.jsx)(h,{onKeyPress:function(e){return"Enter"===e.key&&s()},onChange:function(e){e.currentTarget.value&&xe(e.currentTarget.value),e.currentTarget.value&&c(xe(e.currentTarget.value))},placeholder:"product name"}),Object(r.jsx)(x,{className:ot.a.searchBtn,onClick:s,children:"Search"})]})},ut=a(74),dt=a.n(ut),lt=a(22),jt=a.n(lt),bt=function(e){var t=e.totalPacksCount,a=e.packsPerPage,n=e.page,c=e.handlePageChange;return Object(r.jsx)(dt.a,{activePage:n,itemsCountPerPage:a,totalItemsCount:t,pageRangeDisplayed:10,onChange:c,innerClass:jt.a.paginationList,itemClass:jt.a.paginationItem,linkClass:jt.a.paginationLink,activeClass:jt.a.paginationItemActive,activeLinkClass:jt.a.paginationLinkActive,linkClassFirst:jt.a.linkClassFirst,linkClassLast:jt.a.linkClassLast,disabledClass:jt.a.disabledClass,linkClassPrev:jt.a.linkClassPrev,linkClassNext:jt.a.linkClassNext})},pt=a(34),Ot=a.n(pt),ht=a.p+"static/media/up-arrow.7bcbc04e.svg",ft=a.p+"static/media/down-arrow.9a3add57.svg",mt=function(){var e=Object(P.b)(),t=function(t){e({type:je,value:t}),e(ge())};return Object(r.jsx)("div",{className:Ot.a.box,children:Object(r.jsxs)("div",{children:[Object(r.jsx)(x,{className:Ot.a.btnUp,onClick:function(){return t("1updated")},children:Object(r.jsx)("img",{src:ht,className:Ot.a.up})}),Object(r.jsx)(x,{className:Ot.a.btnDown,onClick:function(){return t("0updated")},children:Object(r.jsx)("img",{src:ft,className:Ot.a.down})})]})})},xt=a(27),_t=a.n(xt),vt=a(126),gt=a(41),kt=a.n(gt),Pt=a(127),Ct=Object(Pt.a)({root:{color:"#4c84e0"},thumb:{height:16,width:16,backgroundColor:"#4c84e0",border:"2px solid #4c84e0",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}}})(vt.a),wt=function(e){var t=e.minPrice,a=e.maxPrice,n=e.valueArray,c=e.onChangeRange,s=e.minCardsCount,o=e.maxCardsCount;return Object(r.jsx)("div",{className:kt.a.box,children:Object(r.jsxs)("div",{className:kt.a.wrap,children:[Object(r.jsx)("p",{className:kt.a.minPrice,children:t}),Object(r.jsx)(Ct,{value:n,onChange:function(e,t){c&&c(t)},valueLabelDisplay:"auto","aria-labelledby":"range-slider",min:s,max:o}),Object(r.jsx)("p",{className:kt.a.maxPrice,children:a})]})})},Nt=a(14),yt=a.n(Nt),St=w.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),Rt={getCardsData:function(){var e=Object(ce.a)(ne.a.mark((function e(t){var a,r,n,c=arguments;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:50,r=c.length>2&&void 0!==c[2]?c[2]:1,e.next=4,St.get("cards/card?cardsPack_id=".concat(t,"&pageCount=").concat(a,"&page=").concat(r));case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addNewCard:function(){var e=Object(ce.a)(ne.a.mark((function e(t){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.post("cards/card",{card:t});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateCard:function(){var e=Object(ce.a)(ne.a.mark((function e(t){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.put("cards/card",{card:t});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteCard:function(){var e=Object(ce.a)(ne.a.mark((function e(t){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.delete("cards/card?id=".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Et="SET_CARDS_PACK_ID",Tt="SET_CARDS_PACK",At="SET_CARDS_ERROR",Lt={cards:[{answer:null,question:null,cardsPack_id:null,grade:null,rating:null,shots:0,type:null,user_id:null,created:null,updated:null,__v:null,_id:""}],cardsPackId:"",error:""},It=function(e){return{type:Et,cardsPackId:e}},Bt=function(e){return{type:At,error:e}},Dt=function(){return function(e,t){var a=t().cards.cardsPackId;Rt.getCardsData(a).then((function(t){var r;console.log(t.cards),e(It(a)),e((r=t.cards,{type:Tt,cards:r}))})).catch((function(t){t.response?t.response.data.error:t.message;e(Bt("Please, choose a pack on the Packs page"))}))}},Mt=function(e){var t=e.headerElement,a=e.renderPacksBody,n=e.renderCardsBody,c=e.isTableCard,s=Object(P.c)((function(e){return e.cards.cards})),o=Object(P.c)((function(e){return e.search.cardPacks})),i=Object(P.c)((function(e){return e.cards.error})),u=Object(P.c)((function(e){return e.cards.cardsPackId})),d=Object(P.b)();return Object(r.jsxs)("div",{className:yt.a.tableBox,children:[n&&Object(r.jsx)(x,{className:yt.a.addBtn,onClick:function(){var e,t,a;d((e=u,function(r,n){var c={cardsPack_id:e,question:t,answer:a};Rt.addNewCard(c).then((function(){r(Dt())})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";r(Bt(t))}))}))},children:"Add Card"}),c&&i&&!u&&Object(r.jsx)("div",{className:yt.a.errorBox,children:i&&Object(r.jsx)("div",{className:yt.a.error,children:i})}),Object(r.jsxs)("table",{className:yt.a.table,children:[Object(r.jsx)("thead",{children:Object(r.jsx)("tr",{children:function(e){return e.map((function(e,t){return Object(r.jsx)("th",{children:e.toUpperCase()},t)}))}(t)})}),Object(r.jsxs)("tbody",{children:[a?a(o):null,n&&u?n(s):null]})]})]})},Ut=function(e){e.cardPacks;var t=e.status,a=e.error,c=e.page,s=e.totalPacksCount,o=e.packsPerPage,i=e.handlePageChange,u=e.maxCardsCount,d=e.minCardsCount,l=e.minPrice,j=e.maxPrice,b=e.valueArray,p=e.onChangeRange,O=e.renderPacksBody,h=e.headerElementPacks,f=e.addPack,m=e.isLoggedIn,_=Object(P.b)(),v=Object(P.c)((function(e){return e.profile.profile._id}));Object(n.useEffect)((function(){m&&(_(L(null)),_(ge()))}),[_]);return"loading"===t?Object(r.jsx)(Be,{}):Object(r.jsxs)("div",{className:_t.a.packsBox,children:[Object(r.jsxs)("div",{className:_t.a.packsContent,children:[Object(r.jsx)("h2",{children:"Search packs"}),Object(r.jsxs)("div",{className:_t.a.searchBox,children:[Object(r.jsx)(it,{}),Object(r.jsx)(mt,{})]}),a&&Object(r.jsx)("div",{className:_t.a.error,children:a}),Object(r.jsx)(wt,{maxCardsCount:u,maxPrice:j,minCardsCount:d,minPrice:l,valueArray:b,onChangeRange:p}),Object(r.jsx)(x,{onClick:function(){_(L(v)),_(ge())},className:_t.a.myPacks,children:"My packs"}),Object(r.jsx)(x,{onClick:function(){_(L(null)),_(ge())},className:_t.a.myPacks,children:"All packs"}),Object(r.jsx)(x,{onClick:function(){f("Add new pack")},className:_t.a.myPacks,children:"Add pack"}),Object(r.jsx)(Mt,{headerElement:h,renderPacksBody:O})]}),Object(r.jsx)("div",{className:_t.a.paginateBox,children:Object(r.jsx)(bt,{totalPacksCount:s,packsPerPage:o,handlePageChange:i,page:c})})]})},Ft=function(){var e=Object(P.b)(),t=Object(P.c)((function(e){return e.search.cardPacks})),a=Object(P.c)((function(e){return e.search.status})),n=Object(P.c)((function(e){return e.search.error})),c=Object(P.c)((function(e){return e.search.totalPacksCount})),s=Object(P.c)((function(e){return e.search.packsPerPage})),o=Object(P.c)((function(e){return e.search.page})),u=Object(P.c)((function(e){return e.search.minCardsCount})),d=Object(P.c)((function(e){return e.search.maxCardsCount})),l=Object(P.c)((function(e){return e.search.min})),j=Object(P.c)((function(e){return e.search.max})),b=[l,j],p=Object(P.c)((function(e){return e.auth.isLoggedIn})),O=function(t){return e((a=t,function(e){oe.deletePack(a).then((function(t){console.log(t.data),e(ge())})).catch((function(t){var a=t.response?t.response.data.error:t.message+", more details in the console";console.log(a),e(ve(a))})).finally((function(){e(_e("succeeded"))}))}));var a},h=function(t){return e(function(e){return function(t,a){var r={_id:e,name:"Pack was updated"};oe.updatePack(r).then((function(e){t(ge()),console.log(e)})).catch((function(e){console.log(e);var a=e.response?e.response.data.error:e.message+", more details in the console";t(ve(a))})).finally((function(){t(_e("succeeded"))}))}}(t))};if(!p)return Object(r.jsx)(i.a,{to:Kt.LOGIN});return Object(r.jsx)("div",{children:Object(r.jsx)(Ut,{cardPacks:t,status:a,error:n,totalPacksCount:c,packsPerPage:s,page:o,handlePageChange:function(t){e({type:pe,value:t}),e(ge())},minCardsCount:u,maxCardsCount:d,minPrice:l,maxPrice:j,valueArray:b,onChangeRange:function(t){var a,r;Array.isArray(t)&&e((a=t[0],r=t[1],{type:de,min:a,max:r}))},renderPacksBody:function(t){return t&&t.map((function(t){var a=t._id,n=t.name,c=t.cardsCount,s=t.user_name,o=t.updated;return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:s}),Object(r.jsx)("td",{children:n}),Object(r.jsx)("td",{children:c}),Object(r.jsx)("td",{children:o}),Object(r.jsx)("td",{children:Object(r.jsx)(k.b,{to:Kt.CARDS,className:yt.a.cardLink,onClick:function(){e(It(a))},children:"Cards"})}),Object(r.jsxs)("td",{className:yt.a.operation,children:[Object(r.jsx)(x,{onClick:function(){return h(a)},className:yt.a.updBtn,children:"Update"}),Object(r.jsx)(x,{onClick:function(){return O(a)},className:yt.a.delBtn,children:"Delete"})]})]},a)}))},headerElementPacks:["USERNAME","NAME","CARDSCOUNT","UPDATED","CARDS","OPERATIONS"],addPack:function(t){return e(function(e){return function(t,a){var r={name:e};oe.addNewPack(r).then((function(e){console.log(e.data),t(ge())})).catch((function(e){var a=e.response?e.response.data.error:e.message+", more details in the console";console.log(a),t(ve(a))})).finally((function(){t(_e("succeeded"))}))}}(t))},isLoggedIn:p})})},Gt=function(){var e=Object(P.b)(),t=Object(P.c)((function(e){return e.auth.isLoggedIn}));Object(n.useEffect)((function(){e(Dt())}),[e]);var a=function(t){e(function(e){return function(t,a){var r={_id:e,question:"Question was updated"};Rt.updateCard(r).then((function(e){t(Dt())})).catch((function(e){var a=e.response?e.response.data.error:e.message+", more details in the console";t(Bt(a))}))}}(t))},c=function(t){var a;e((a=t,function(e,t){Rt.deleteCard(a).then((function(t){e(Dt())})).catch((function(t){var a=t.response?t.response.data.error:t.message+", more details in the console";e(Bt(a))}))}))};if(!t)return Object(r.jsx)(i.a,{to:Kt.LOGIN});return Object(r.jsx)("div",{className:yt.a.cardTableBox,children:Object(r.jsx)(Mt,{headerElement:["QUESTION","ANSWER","GRADE","ACTIONS"],renderCardsBody:function(e){return e&&e.map((function(e){var t=e._id,n=e.question,s=e.answer,o=e.grade;return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:n}),Object(r.jsx)("td",{children:s}),Object(r.jsx)("td",{children:o}),Object(r.jsxs)("td",{className:yt.a.operation,children:[Object(r.jsx)(x,{onClick:function(){a(t)},className:yt.a.updBtn,children:"Update"}),Object(r.jsx)(x,{onClick:function(){c(t)},className:yt.a.delBtn,children:"Delete"})]})]},t)}))},isTableCard:!0})})},Kt={LOGIN:"/login",REGISTRATION:"/reg",PROFILE:"/profile",ERROR_404:"/404",RECOVERY_PASSWORD:"/rec_pass",NEW_PASSWORD:"/new_pass",TEST:"/test",PACKS:"/packs",CARDS:"/cards"},Wt=function(){return Object(r.jsx)("div",{children:Object(r.jsxs)(i.d,{children:[Object(r.jsx)(i.b,{path:"/",exact:!0,render:function(){return Object(r.jsx)(i.a,{to:Kt.LOGIN})}}),Object(r.jsx)(i.b,{path:Kt.LOGIN,render:function(){return Object(r.jsx)(X,{})}}),Object(r.jsx)(i.b,{path:Kt.REGISTRATION,render:function(){return Object(r.jsx)(Te,{})}}),Object(r.jsx)(i.b,{path:Kt.PROFILE,render:function(){return Object(r.jsx)(ae,{})}}),Object(r.jsx)(i.b,{path:Kt.ERROR_404,render:function(){return Object(r.jsx)(Ae,{})}}),Object(r.jsx)(i.b,{path:Kt.RECOVERY_PASSWORD,render:function(){return Object(r.jsx)(ct,{})}}),Object(r.jsx)(i.b,{path:Kt.NEW_PASSWORD,render:function(){return Object(r.jsx)(tt,{})}}),Object(r.jsx)(i.b,{path:Kt.TEST,render:function(){return Object(r.jsx)(ke,{})}}),Object(r.jsx)(i.b,{path:Kt.PACKS,render:function(){return Object(r.jsx)(Ft,{})}}),Object(r.jsx)(i.b,{path:Kt.CARDS,render:function(){return Object(r.jsx)(Gt,{})}}),Object(r.jsx)(i.b,{render:function(){return Object(r.jsx)(Ae,{})}})]})})},qt=a(35),Yt=a.n(qt),zt=a(15),Ht=a.n(zt),Vt=function(e){var t=e.className;return Object(r.jsxs)("div",{className:"".concat(t),children:[Object(r.jsx)("div",{className:Ht.a.wrapLink,children:Object(r.jsx)(k.b,{className:Ht.a.link,to:Kt.REGISTRATION,children:"Registration"})}),Object(r.jsx)("div",{className:Ht.a.wrapLink,children:Object(r.jsx)(k.b,{className:Ht.a.link,to:Kt.LOGIN,children:"Login"})}),Object(r.jsx)("div",{className:Ht.a.wrapLink,children:Object(r.jsx)(k.b,{className:Ht.a.link,to:Kt.PROFILE,children:"Profile"})}),Object(r.jsx)("div",{className:Ht.a.wrapLink,children:Object(r.jsx)(k.b,{className:Ht.a.link,to:Kt.RECOVERY_PASSWORD,children:"Recovery Password"})}),Object(r.jsx)("div",{className:Ht.a.wrapLink,children:Object(r.jsx)(k.b,{className:Ht.a.link,to:Kt.NEW_PASSWORD,children:"NewPassword"})}),Object(r.jsx)("div",{className:Ht.a.wrapLink}),Object(r.jsx)("div",{className:Ht.a.wrapLink,children:Object(r.jsx)(k.b,{className:Ht.a.link,to:Kt.PACKS,children:"Packs"})}),Object(r.jsx)("div",{className:Ht.a.wrapLink,children:Object(r.jsx)(k.b,{className:Ht.a.link,to:Kt.CARDS,children:"Cards"})})]})},Jt=a(42),Zt=a.n(Jt),Qt=function(e){var t=e.activeModal,a=e.setActiveModal,n=e.children;return Object(r.jsx)("div",{className:t?Zt.a.modalActive:Zt.a.modal,children:Object(r.jsxs)("div",{className:Zt.a.modalContent,children:[n,Object(r.jsx)(x,{red:!0,type:"button",onClick:function(){return a(!1)},className:Zt.a.btnClose,children:"x"})]})})},Xt=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1];return Object(r.jsxs)("div",{className:Yt.a.wrap,children:[Object(r.jsx)(x,{className:a?Yt.a.btnMenu:Yt.a.btnMenuActive,onClick:function(){return c(!0)},children:"Menu"}),!a&&Object(r.jsx)(Vt,{className:Yt.a.nav}),a&&Object(r.jsx)(Qt,{activeModal:a,setActiveModal:c,children:Object(r.jsx)(Vt,{className:Yt.a.navActive})})]})},$t=function(){var e=Object(P.b)(),t=Object(P.c)((function(e){return e.app.initialized}));return Object(n.useEffect)((function(){t||e(K())}),[t,e]),Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(Xt,{}),Object(r.jsx)(Wt,{})]})},ea=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,129)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))},ta=a(33),aa=a(78),ra=Object(ta.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:t.value});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(u.a)(Object(u.a)({},e),{},{profile:t.payload});case T:return Object(u.a)(Object(u.a)({},e),{},{myId:t.myId});default:return e}},recoveryPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Je:return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case He:return Object(u.a)(Object(u.a)({},e),{},{error:t.error});case Ve:return Object(u.a)(Object(u.a)({},e),{},{success:t.success});default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return Object(u.a)(Object(u.a)({},e),{},{error:t.error});case Ge:return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case Fe:return Object(u.a)(Object(u.a)({},e),{},{success:t.success});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:return Object(u.a)(Object(u.a)({},e),{},{isRegistration:t.isRegistration});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case D:return Object(u.a)(Object(u.a)({},e),{},{error:t.error});case M:return Object(u.a)(Object(u.a)({},e),{},{initialized:t.initialized});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Object(u.a)(Object(u.a)({},e),{},{searchName:t.searchName});case de:return Object(u.a)(Object(u.a)({},e),{},{min:t.min,max:t.max});case je:return Object(u.a)(Object(u.a)({},e),{},{sortPacks:t.value});case pe:return Object(u.a)(Object(u.a)({},e),{},{page:t.value});case Oe:return Object(u.a)(Object(u.a)({},e),{},{packsPerPage:t.value});case he:return Object(u.a)(Object(u.a)({},e),{},{totalPacksCount:t.value});case le:return Object(u.a)(Object(u.a)({},e),{},{minCardsCount:t.minCardsCount,maxCardsCount:t.maxCardsCount});case ie:return Object(u.a)(Object(u.a)({},e),{},{cardPacks:t.cardPacks});case be:return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case fe:return Object(u.a)(Object(u.a)({},e),{},{error:t.value});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Et:return Object(u.a)(Object(u.a)({},e),{},{cardsPackId:t.cardsPackId});case Tt:return Object(u.a)(Object(u.a)({},e),{},{cards:t.cards});case At:return Object(u.a)(Object(u.a)({},e),{},{error:t.error});default:return e}}}),na=Object(ta.d)(ra,Object(ta.a)(aa.a));window.store=na,o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(k.a,{children:Object(r.jsx)(P.a,{store:na,children:Object(r.jsx)($t,{})})})}),document.getElementById("root")),ea()},14:function(e,t,a){e.exports={tableBox:"Table_tableBox__3QFky",table:"Table_table__1ZYjY",operation:"Table_operation__36-wN",delBtn:"Table_delBtn__3FV7w",updBtn:"Table_updBtn__3XqWC",cardLink:"Table_cardLink__BF1JG",addBtn:"Table_addBtn__1tqdH",error:"Table_error__P6-V2",errorBox:"Table_errorBox__3p8rM"}},15:function(e,t,a){e.exports={wrapLink:"Menu_wrapLink__e2BBn",link:"Menu_link__3CBsq",nav:"Menu_nav___0pzU",navActive:"Menu_navActive__2JjmP"}},22:function(e,t,a){e.exports={paginationList:"Paginate_paginationList__3g2pc",paginationItem:"Paginate_paginationItem__3y9ht",paginationLink:"Paginate_paginationLink__58xDC",paginationItemActive:"Paginate_paginationItemActive__1-VTd",paginationLinkActive:"Paginate_paginationLinkActive__1ZpM_",linkClassFirst:"Paginate_linkClassFirst__2FdmG",linkClassLast:"Paginate_linkClassLast__2ev3t",linkClassPrev:"Paginate_linkClassPrev__bJCWY",linkClassNext:"Paginate_linkClassNext__qIhBp",disabledClass:"Paginate_disabledClass__3W_FZ"}},27:function(e,t,a){e.exports={packsList:"Packs_packsList__U78AA",packsContent:"Packs_packsContent__1n7dY",packsItem:"Packs_packsItem__3C8zT",searchBox:"Packs_searchBox__5Iemo",error:"Packs_error__3bzm2",packsBox:"Packs_packsBox__1oLzm",paginateBox:"Packs_paginateBox__1goGs",myPacks:"Packs_myPacks__1bJwN"}},28:function(e,t,a){e.exports={formLogin:"Login_formLogin__1BpGK",link:"Login_link__q-AMr",error:"Login_error__1qxBf"}},29:function(e,t,a){e.exports={formRegistration:"Registration_formRegistration__2h4X2",link:"Registration_link__2g5Zl",error:"Registration_error__3LdZ2",label:"Registration_label__3TDCt"}},34:function(e,t,a){e.exports={box:"SortButton_box__3w4W-",up:"SortButton_up__2myDA",down:"SortButton_down__2YgJZ",btnUp:"SortButton_btnUp__3iuJN",btnDown:"SortButton_btnDown__3H_BD"}},35:function(e,t,a){e.exports={wrap:"Header_wrap___6iya",nav:"Header_nav__1mzt6",btnMenu:"Header_btnMenu__1-bfR",btnMenuActive:"Header_btnMenuActive__2Y85z",navActive:"Header_navActive__1ZL2Y"}},38:function(e,t,a){e.exports={errorInput:"SuperInputText_errorInput__1c1ho",superInput:"SuperInputText_superInput__tvKWa",error:"SuperInputText_error__ECzLd"}},39:function(e,t,a){e.exports={wrap:"Profile_wrap__1C2gC",link:"Profile_link__49-wm",btn:"Profile_btn__V9Apf"}},40:function(e,t,a){e.exports={box:"NewPassword_box__3uPkJ",newPassBtn:"NewPassword_newPassBtn__hGgsh",error:"NewPassword_error__2y6QY"}},41:function(e,t,a){e.exports={box:"DoubleRangeSlider_box__20RHB",wrap:"DoubleRangeSlider_wrap__22v_N",minPrice:"DoubleRangeSlider_minPrice__38o2O",maxPrice:"DoubleRangeSlider_maxPrice__21P9O"}},42:function(e,t,a){e.exports={modal:"Modal_modal__Pn2EN",modalActive:"Modal_modalActive__bLWpk",btnClose:"Modal_btnClose__2Up33",modalContent:"Modal_modalContent__3BblL"}},50:function(e,t,a){e.exports={box:"PasswordRecovery_box__bawp6",recoveryBtn:"PasswordRecovery_recoveryBtn__3ZN32",error:"PasswordRecovery_error__2zKnY"}},52:function(e,t,a){e.exports={red:"SuperButton_red__3cLSb",default:"SuperButton_default__3fGvg"}},68:function(e,t,a){e.exports={checkbox:"SuperCheckbox_checkbox__2kSHS"}},70:function(e,t,a){e.exports={preload:"Preloader_preload__2_9rl"}},73:function(e,t,a){e.exports={searchBtn:"Search_searchBtn__eh6BL"}},85:function(e,t,a){},86:function(e,t,a){}},[[114,1,2]]]);
//# sourceMappingURL=main.ecafc653.chunk.js.map